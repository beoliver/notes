# Part 2

## Loading Code

Now that we know how to start a REPL we can play around with the language.

While it is often common practice to jump in an execute some expressions (for example `(+ 1 2 3)`), I would prefer to create a tiny little project and see if we can run it. 

The purpose here is to demystify what is going on. 

The project will be so small that we should be able to reason about every step.

```sh
.
└── jars
    ├── clojure-1.11.3.jar
    ├── core.specs.alpha-0.2.62.jar
    └── spec.alpha-0.3.218.jar
```

We will create a file "/src/example/core.clj" with the following content:

```clojure
(ns example.core)

(defn greet [name]
  (println (format "Hello, %s." name)))
```

```sh
.
├── jars
│   ├── clojure-1.11.3.jar
│   ├── core.specs.alpha-0.2.62.jar
│   └── spec.alpha-0.3.218.jar
└── src
    └── example
        └── core.clj
```

We start clojure

```sh 
java -cp "jars/*" clojure.main
```

### Loading a file. 

```clojure
user=> (load-file "src/example/core.clj")
#'example.core/greet
user=> (require '[example.core :as core])
nil
user=> (core/greet "Ben")
Hello, Ben.
nil
user=> (in-ns 'example.core)
#object[clojure.lang.Namespace 0x54aca26f "example.core"]
example.core=> (greet "You")
Hello, You.
nil
```

### Reloading a file. 

What happens if we make a change to the file? Make sure that you are in the REPL and have already loaded the file and can call the greet function. 

```clojure
user=> (load-file "src/example/core.clj")
#'example.core/greet
user=> (require '[example.core :as core])
nil
user=> (core/greet "Ben")
Hello, Ben.
nil
```

Let's update the greet function to say "Goodbye".

```clojure
(ns example.core)

(defn greet [name]
  (println (format "Goodbye, %s." name)))
```

```clojure
user=> (load-file "src/example/core.clj")
#'example.core/greet
user=> (core/greet "Ben")
Goodbye, Ben.
nil
```

Notice that we did not need to call `require` again. 

### load

If we add the `src` directory to our class path, then we can use `load`. Note that `/example/core` mimics the namespace `example.core`.

```
java -cp "jars/*:src" clojure.main
```

```clojure
user=> (load "/example/core")
nil
user=> (require '[example.core :as core])
nil
user=> (core/greet "Ben")
Hello, Ben.
nil
```